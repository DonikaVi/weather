(this["webpackJsonpweather-spa"]=this["webpackJsonpweather-spa"]||[]).push([[0],{175:function(e,t,a){e.exports=a(301)},180:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),l=(a(180),a(35)),i=a(8),s=a(47),u=a(26),m=a(148),p=a(149),f=a(36),d={city:null,loc:{},weatherInfo:{}};var h=Object(u.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY":return Object(f.a)(Object(f.a)({},e),{},{city:t.payload});case"SET_LOCATION":return Object(f.a)(Object(f.a)({},e),{},{loc:t.payload});case"SET_WEATHER":return Object(f.a)(Object(f.a)({},e),{},{weatherInfo:t.payload});default:return e}}}),E=Object(m.composeWithDevTools)({}),y=Object(u.createStore)(h,E(Object(u.applyMiddleware)(p.a)));a(185),a(186);var v=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-container-name"},"Weather in your pocket")))},w=a(18),b=a.n(w),O=a(49),k=(a(188),a(313)),g=a(319),j=a(311),x=a(316),I=a(312),N=a(310),S=a(318),C=a(315),T=a(317);var W=function(e){var t=e.weatherInfo,a=e.showBack,n=Object(T.a)(t.sys.sunset),c=Object(T.a)(t.sys.sunrise),o=Math.round(t.main.temp),i=Math.floor(t.main.temp_min),s=Math.ceil(t.main.temp_max);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"content-weather"},"\u041f\u043e\u0433\u043e\u0434\u0430 \u0432 ",t.name," \u0441\u0435\u0439\u0447\u0430\u0441"),r.a.createElement(N.a,{className:"content-weather-left",textAlign:"center"},r.a.createElement(S.a,null,r.a.createElement(S.a.Value,null,o," \xb0C")),r.a.createElement(C.a,null,r.a.createElement(C.a.Item,null,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",t.wind.speed," \u043c/\u0441"),r.a.createElement(C.a.Item,null,"\u0412\u043e\u0441\u0445\u043e\u0434: ",c.toLocaleTimeString()),r.a.createElement(C.a.Item,null,"\u0417\u0430\u0445\u043e\u0434: ",n.toLocaleTimeString()),r.a.createElement(C.a.Item,null,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",s," \xb0C"),r.a.createElement(C.a.Item,null,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",i," \xb0C"))),a&&r.a.createElement(N.a,null,r.a.createElement("div",{className:"go-back"},r.a.createElement(l.b,{to:"/"},r.a.createElement(x.a,{content:"Primary"},"Go back and select city")))))};var A=[{key:"od",value:"Odessa",text:"Odessa"},{key:"ki",value:"Kyiv",text:"Kyiv"},{key:"ca",value:"Cairns",text:"Cairns"},{key:"lo",value:"London",text:"London"},{key:"ma",value:"M\xe1laga",text:"M\xe1laga"},{key:"am",value:"Amsterdam",text:"Amsterdam"}];var K=Object(s.b)((function(e){return{city:e.items.city,loc:e.items.loc,weatherInfo:e.items.weatherInfo}}),(function(e){return{dispatchSetCity:function(t){e(function(e){return{type:"SET_CITY",payload:e}}(t))},dispatchSetLocation:function(t){e(function(e){return{type:"SET_LOCATION",payload:e}}(t))},dispatchSetWeather:function(t){e(function(e){return{type:"SET_WEATHER",payload:e}}(t))}}}))((function(e){var t=Object(i.f)(),a=e.weatherInfo,c=e.city,o=function(){var t=Object(O.a)(b.a.mark((function t(a,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dispatchSetCity(n.value);case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return e.next=3,l();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var l=function(){var t=Object(O.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&units=metric&appid=").concat(e.apiKey));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.dispatchSetWeather(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&units=metric&appid=").concat(e.apiKey));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,e.dispatchSetWeather(r),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.coords,r=n.latitude,c=n.longitude,e.dispatchSetLocation({latitude:r,longitude:c}),t.next=4,s(a.coords);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(e){console.warn(e)};return Object(n.useEffect)((function(){var e=navigator.geolocation;e?e.getCurrentPosition(u,m):console.warn("Geolocation not supported")}),[]),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(k.a,{onSubmit:function(){t.push("/city")},className:"form"},r.a.createElement("p",null,"\u0423 \u043f\u0440\u0438\u0440\u043e\u0434\u044b \u043d\u0435\u0442 \u043f\u043b\u043e\u0445\u043e\u0439 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0433\u043e\u0440\u043e\u0434\u0435: ",c||a.name),r.a.createElement(g.a,{columns:2},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{mobile:13,width:13},r.a.createElement(k.a.Field,null,r.a.createElement(j.a,{onChange:o,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",name:"city",options:A}))),r.a.createElement(g.a.Column,{mobile:3,width:3},r.a.createElement(x.a,{type:"submit"},"OK"))))),a.name&&r.a.createElement(W,{weatherInfo:a}),r.a.createElement(I.a,null)))}));a(299);var L=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer-made"},r.a.createElement("p",{className:"footer-made-by"},"Made by Viktoriia Donika")))};a(300);var _=Object(s.b)((function(e){return{city:e.items.city,loc:e.items.loc,weatherInfo:e.items.weatherInfo}}),null)((function(e){var t=e.weatherInfo;return t&&t.name?r.a.createElement("main",{className:"main"},r.a.createElement(W,{weatherInfo:t,showBack:!0})):r.a.createElement("div",{className:"go-back"},r.a.createElement(l.b,{to:"/"},r.a.createElement(x.a,{content:"Primary"},"Go back and select city")))})),M="4cd26a9ca1dd9cefed859cf6822fadf7";var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(s.a,{store:y},r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(K,{apiKey:M})),r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(K,{apiKey:M})),r.a.createElement(i.a,{path:"/city/",children:r.a.createElement(_,null)}),r.a.createElement(i.a,{path:"*"},r.a.createElement(K,{apiKey:M}))))),r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.02b63686.chunk.js.map